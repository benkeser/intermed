<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>estimate_Qbar — estimate_Qbar • intermed</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="estimate_Qbar — estimate_Qbar" />
<meta property="og:description" content="Function to estimate outcome regression as a function of A, C, M1, 
and M2. Because later we will need to marginalize these estimates over
estimated distributions of M1 and M2, the output includes the predicted 
value for each C_i, i = 1, ..., n and for every value of A in 
a_0. The output is formatted as an n-length list where there is one entry
for each observation. This entry includes a list of predicted values under each treatment
Qbar_a_0, which is itself a list with a vector of predictions for each value of 
a_0. Also included is an entry called which_M1_obs, which indicates rows of
the all_mediator_values that correspond to this observation's observed value of 
M1 and M2. Similarly, there is a vector which_M2_obs, and also a vector
which_M1_M2_obs, which indicates the row of all_mediator_values that 
corresponds to this observation's observed value of BOTH M1 and M2." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">intermed</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/benkeser/intermed/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>estimate_Qbar</h1>
    <small class="dont-index">Source: <a href='https://github.com/benkeser/intermed/blob/master/R/estimate.R'><code>R/estimate.R</code></a></small>
    <div class="hidden name"><code>estimate_Qbar.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to estimate outcome regression as a function of <code>A, C, M1,</code> 
and <code>M2</code>. Because later we will need to marginalize these estimates over
estimated distributions of <code>M1</code> and <code>M2</code>, the output includes the predicted 
value for each C_i, i = 1, ..., n and for every value of <code>A</code> in 
<code>a_0</code>. The output is formatted as an n-length list where there is one entry
for each observation. This entry includes a list of predicted values under each treatment
<code>Qbar_a_0</code>, which is itself a list with a vector of predictions for each value of 
<code>a_0</code>. Also included is an entry called <code>which_M1_obs</code>, which indicates rows of
the <code>all_mediator_values</code> that correspond to this observation's observed value of 
<code>M1</code> and <code>M2</code>. Similarly, there is a vector <code>which_M2_obs</code>, and also a vector
<code>which_M1_M2_obs</code>, which indicates the row of <code>all_mediator_values</code> that 
corresponds to this observation's observed value of BOTH <code>M1</code> and <code>M2</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>estimate_Qbar</span><span class='op'>(</span>
  <span class='va'>Y</span>,
  <span class='va'>A</span>,
  <span class='va'>M1</span>,
  <span class='va'>M2</span>,
  <span class='va'>C</span>,
  <span class='va'>DeltaA</span>,
  <span class='va'>DeltaM</span>,
  <span class='va'>SL_Qbar</span>,
  glm_Qbar <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>a_0</span>,
  <span class='va'>stratify</span>,
  <span class='va'>family</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  return_models <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>valid_rows</span>,
  <span class='va'>all_mediator_values</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Y</th>
      <td><p>A vector of continuous or binary outcomes.</p></td>
    </tr>
    <tr>
      <th>A</th>
      <td><p>A vector of binary treatment assignment (assumed to be equal to 0 or
1).</p></td>
    </tr>
    <tr>
      <th>M1</th>
      <td><p>A <code>vector</code> of mediators.</p></td>
    </tr>
    <tr>
      <th>M2</th>
      <td><p>A <code>vector</code> of mediators.</p></td>
    </tr>
    <tr>
      <th>C</th>
      <td><p>A <code>data.frame</code> of named covariates.</p></td>
    </tr>
    <tr>
      <th>DeltaA</th>
      <td><p>Indicator of missing treatment (assumed to be equal to 0 if
missing 1 if observed).</p></td>
    </tr>
    <tr>
      <th>DeltaM</th>
      <td><p>Indicator of missing outcome (assumed to be equal to 0 if
missing 1 if observed).</p></td>
    </tr>
    <tr>
      <th>SL_Qbar</th>
      <td><p>A vector of characters or a list describing the Super Learner
library to be used for the outcome regression.</p></td>
    </tr>
    <tr>
      <th>glm_Qbar</th>
      <td><p>A character describing a formula to be used in the call to
<code>glm</code> for the outcome regression.</p></td>
    </tr>
    <tr>
      <th>a_0</th>
      <td><p>A list of fixed treatment values</p></td>
    </tr>
    <tr>
      <th>stratify</th>
      <td><p>A <code>boolean</code> indicating whether to estimate the outcome
regression separately for observations with <code>A</code> equal to 0/1 (if
<code>TRUE</code>) or to pool across <code>A</code> (if <code>FALSE</code>).</p></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>A character passed to <code>SuperLearner</code></p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A boolean indicating whether to print status updates.</p></td>
    </tr>
    <tr>
      <th>return_models</th>
      <td><p>A boolean indicating whether to return model fits for the
outcome regression, propensity score, and reduced-dimension regressions.</p></td>
    </tr>
    <tr>
      <th>valid_rows</th>
      <td><p>A <code>list</code> of length <code>cvFolds</code> containing the row
indexes of observations to include in validation fold.</p></td>
    </tr>
    <tr>
      <th>all_mediator_values</th>
      <td><p>All combinations of M1 and M2</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments (not currently used)</p></td>
    </tr>
    </table>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Benkeser.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


